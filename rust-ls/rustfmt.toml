# Rust 에디션 설정 (2021 에디션의 문법 규칙을 따름)
edition = "2021"

# --- 가독성 및 유지보수 중심 설정 ---

# [메서드 체이닝 개행 너비]
# .filter().map().collect() 처럼 점(.)으로 연결된 코드의 허용 길이를 설정합니다.
# 이 값(60)을 초과하면 각 메서드를 새로운 줄에 배치합니다. 더 공격적인 개행을 원하시면 값을 낮추세요.
chain_width = 60

# [한 줄 최대 길이]
# 한 줄이 이 길이를 넘으면 rustfmt가 자동으로 줄바꿈을 시도합니다. 
# 너무 길면 가독성이 떨어지고, 너무 짧으면 코드가 세로로 너무 길어집니다. (권장: 100~120)
max_width = 100

# [Match 블록 콤마 강제]
# match 구문의 각 암(arm) 끝에 항상 콤마(,)를 붙입니다. 
# 나중에 새로운 조건을 추가할 때 이전 줄을 수정하지 않아도 되어 Git diff가 깔끔해집니다.
match_block_trailing_comma = true

# [Import 정렬 및 그룹화]
# use 선언문을 알파벳 순서로 자동 정렬합니다.
reorder_imports = true
# std(표준 라이브러리), 외부 crate, 프로젝트 내부 모듈 순으로 그룹을 나누어 정렬합니다.
group_imports = "StdExternalCrate"

# [주석 가로 너비]
# 코드 주석(// 또는 /* */)의 최대 길이를 설정합니다. 코드와 동일하게 맞춰 일관성을 유지합니다.
comment_width = 100

# [후행 콤마(Trailing Comma) 처리]
# 배열, 구조체, 열거형 등의 마지막 요소 뒤에 항상 콤마를 추가합니다. 
# 멀티라인 구조에서 요소를 추가/삭제할 때 Git 변경 이력을 최소화하는 핵심 설정입니다.
trailing_comma = "Always"

# [포맷팅 휴리스틱 최적화]
# "Max"로 설정하면 rustfmt가 코드를 억지로 한 줄에 뭉치지 않고, 
# 가급적이면 인자나 필드들을 여러 줄로 나누어(Vertical) 가독성을 높입니다.
use_small_heuristics = "Max"

# [문서 주석 내 코드 포맷팅]
# /// ```rust ... ``` 로 작성된 문서 주석 안의 예제 코드까지 자동으로 포맷팅합니다.
# (주의: Nightly 툴체인에서 작동할 수 있음)
format_code_in_doc_comments = true

# [문서 속성 정규화]
# #[doc = "주석"] 형태의 속성을 /// 주석 형태로 통일하여 스타일을 일관되게 만듭니다.
normalize_doc_attributes = true

# [Import 통합 강도]
# 같은 크레이트에서 가져오는 여러 모듈을 하나의 use 문으로 묶습니다. (예: use crate::{a, b};)
# "Crate" 설정은 프로젝트 루트 단위에서 최대한 깔끔하게 통합합니다.
imports_granularity = "Crate"

# [Import 배치 레이아웃]
# 통합된 import가 너무 길어지면 여러 줄로 나누고, 짧으면 한 줄에 배치하는 혼합형 스타일을 사용합니다.
imports_layout = "Mixed"

# [줄바꿈 스타일]
# 줄바꿈 문자를 Unix 스타일(\n)로 강제합니다. 
# Windows와 Mac/Linux 개발자가 섞여 있는 팀에서 발생할 수 있는 줄바꿈 불일치 문제를 방지합니다.
newline_style = "Unix"

# [주석 자동 줄바꿈]
# 주석이 comment_width를 초과할 경우 자동으로 다음 줄로 넘깁니다.
wrap_comments = true

# [생성된 파일 제외]
# 매크로나 외부 도구에 의해 자동 생성된 파일(@generated)은 포맷팅 대상에서 제외합니다.
# 불필요한 컴퓨팅 자원 낭비와 자동 생성 파일의 훼손을 방지합니다.
format_generated_files = false