# `thiserror` 라이브러리(crate)
`thiserror`는 Rust에서 구조화된(structured) 커스텀 오류 타입을 만들 때 사용하는 라이브러리입니다. `anyhow`와는 정반대의 목적을 가지고 있습니다.

`anyhow`가 "어떤 오류든 상관없이 하나로 묶어 쉽게 전파"하는 데 중점을 둔다면, `thiserror`는 **"명확하게 정의된 여러 종류의 오류"** 를 `enum`으로 쉽게 만들 수 있도록 도와줍니다.

## `thiserror`를 사용하는 이유
주로 **라이브러리(library)** 를 만들 때 사용됩니다. 라이브러리를 사용하는 측(호출자)은 오류가 발생했을 때 "파일을 못 읽어서" 발생한 오류인지, "네트워크 연결이 끊어져서" 발생한 오류인지, "입력값이 잘못돼서" 발생한 오류인지 구체적으로 알고 싶어 합니다.

`thiserror`는 `#[derive(Error)]` 매크로를 제공하여, `std::error::Error`와 `Display` 트레이트(trait)를 구현하는 상용구 코드를 직접 작성할 필요 없이, 깔끔하게 커스텀 오류 `enum`을 정의할 수 있게 해줍니다.

1. 깔끔한 오류 `enum` 정의
`#[derive(Error)]`와 `#[error("...")]` 속성을 사용해 각 오류 별로 사용자 친화적인 메시지를 쉽게 정의할 수 있습니다.

2. 자동 오류 변환 (`#[from]`)
`#[from]` 속성을 사용하면, `std::io::Error`나 `serde_json::Error` 같은 다른 타입의 오류가 발생했을 때, 우리가 정의한 커스텀 오류 타입으로 자동으로 변환(wrapping)해 줍니다. 이는 `?` 연산자를 바로 사용할 수 있게 해줍니다.